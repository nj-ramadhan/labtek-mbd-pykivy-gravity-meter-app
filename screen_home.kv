#:kivy 2.1.0

<ScreenHome>:
    MDBoxLayout:
        orientation: "vertical"
		# header layout
        MDBoxLayout:
            id: layout_header
            orientation: "horizontal"
            padding: 20
			spacing: 50
			size_hint: 1, 0.15

			MDLabel:
				id: subtitle            
				text: "GRAVITY METER APP"
				halign: 'center'
				valign: 'middle'
				bold: True
				font_size: 32
				color: 0, 0, 0
                    
            Image:
                id: logo
                source:'assets/images/Logo_Main.png'
                size_hint_x: 0.25
                allow_stretch: True                   

		# choose product layout
		MDBoxLayout:
			id: layout_title
			orientation: "vertical"
			md_bg_color: app.theme_cls.primary_color
			size_hint: 1, 0.1
			padding:10
			spacing:10

			MDLabel:
				text: "STANDBY"
				halign: 'center'
				valign: 'middle'    
				bold: True
				font_size: 24
				color: 1, 1, 1
				size_hint_y: 0.1

		MDBoxLayout:
			orientation: "vertical"
			md_bg_color: app.theme_cls.accent_color
			size_hint: 1, 0.75
			padding:50
			spacing:20

			MDBoxLayout:
				orientation: 'horizontal'
				size_hint: 1, 0.1
				spacing: 20

				MDLabel:
					text: "Select Device:"
					font_size: 32
					size_hint_x: 0.7

				MDRaisedButton:
					id: com_port_button
					text: "Select Device"
					font_size: 32
					size_hint_x: 0.3
					on_release: root.open_com_port_menu()

			MDBoxLayout:
				orientation: 'horizontal'
				size_hint: 1, 0.9

				MDBoxLayout:
					orientation: 'vertical'
					size_hint_x: 0.5
					padding: 20
					spacing: 20

					MDFillRoundFlatIconButton:
						id: bt_up
						icon: "home"
						text: "HOME"
						font_size: 28
						size_hint_x: 0.8
						size_hint_y: 0.3 if root.width > root.height else 0.2
						on_press: root.act_home()

					MDFillRoundFlatIconButton:
						id: bt_up
						icon: "arrow-up"
						text: "UP"
						font_size: 28
						size_hint_x: 0.8
						size_hint_y: 0.3 if root.width > root.height else 0.2
						on_press: root.act_up()
						on_release: root.act_stop()

					MDFillRoundFlatIconButton:
						id: bt_down
						icon: "arrow-down"
						text: "DOWN"
						font_size: 28
						size_hint_x: 0.8
						size_hint_y: 0.3 if root.width > root.height else 0.2
						on_press: root.act_down()
						on_release: root.act_stop()

					MDBoxLayout:
						orientation: 'vertical'
						size_hint_y: 0.1 if root.width > root.height else 0.4
						
				MDBoxLayout:
					orientation: 'vertical'
					size_hint_x: 0.5
					padding: 20
					spacing: 20

					MDBoxLayout:
						orientation: 'horizontal'	
						size_hint_y: 0.6 if root.width > root.height else 0.4

						MDTextField:
							id: tx_field
							hint_text: "Masukkan Posisi yang Dituju"
							text: "0.0"
							font_size: 120
							size_hint_x: 0.7
							input_filter: 'float'
							on_text_validate: root.act_start()			

						MDLabel:
							text: "mm"
							font_size: 60
							size_hint_x: 0.3
							theme_text_color: "Custom"
							text_color: app.theme_cls.primary_color
							
					MDFillRoundFlatIconButton:
						id: bt_start
						icon: "play"
						text: "START"
						font_size: 28
						size_hint_x: 0.8
						size_hint_y: 0.3 if root.width > root.height else 0.2
						on_press: root.act_start()

					MDBoxLayout:
						orientation: 'vertical'
						size_hint_y: 0.1 if root.width > root.height else 0.4

